<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/data.js"></script>
    <script src="https://code.highcharts.com/modules/drilldown.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>
    <script src="http://code.jquery.com/jquery-1.7.js"></script>

    <script>

        function display(data){


           Highcharts.chart('container', {
    chart: {
        type: 'column'
    },
    title: {
        text: 'Most movies made by Country'
    },
    subtitle: {

    },
    accessibility: {
        announceNewData: {
            enabled: true
        }
    },
    xAxis: {
        type: 'category'
    },
    yAxis: {
        title: {
            text: 'Total counts by each Country'
        }

    },
    legend: {
        enabled: false
    },
    plotOptions: {
        series: {
            borderWidth: 0,
            dataLabels: {
                enabled: true,

            }
        }
    },

    tooltip: {
        headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
        pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y}</b><br/>'
    },

    series: [{
            name: "Country",
            colorByPoint: true,
            data: data
            }]

});
        };


        $(document).ready(function(){
           $.ajax({
                url:'TPex',
                datatype:'JSON',
                success: function(data){
                        display(data)}
           });
        });



    </script>
</head>
<main>

  <div id="container"></div>

</main>
</html>
