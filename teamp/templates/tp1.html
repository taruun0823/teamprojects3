<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>
    <script src="http://code.jquery.com/jquery-1.7.js"></script>

    <script>

        function display(data){


           Highcharts.chart('container', {
                chart: {
                     plotBackgroundColor: null,
                     plotBorderWidth: 0,
                     plotShadow: false
                },
                title: {
                     text: 'Number of movies<br>present on<br>different platform',
                     align: 'center',
                     verticalAlign: 'middle',
                     y: 70
                },
                tooltip: {
                     pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                },
                accessibility: {
                     point: {
                     valueSuffix: '%'
                     }
                },
                plotOptions: {
                       pie: {
                           dataLabels: {
                                enabled: true,
                                distance: -50,
                                style: {
                                     fontWeight: 'bold',
                                     color: 'Black'
                                }
                           },
                           startAngle: -90,
                           endAngle: 90,
                           center: ['50%', '75%'],
                           size: '130%'
                       }
                },
                series: [{
                     type: 'pie',
                     name: 'Browser share',
                     innerSize: '50%',
                     data: data
                }]
           });
        };


        $(document).ready(function(){
           $.ajax({
                url:'TP1',
                datatype:'JSON',
                success: function(data){
                        display(data)}
           });
        });



    </script>
</head>
<main>

  <div id="container"></div>

</main>
</html>
